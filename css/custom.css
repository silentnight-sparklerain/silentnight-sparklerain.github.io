/* ==================================
   1. 页脚与头图透明 (保持原样)
   ================================== */
#footer {
  background: transparent !important;
}
#page-header {
  background: transparent !important;
}

/* 白天模式遮罩透明 */
#footer::before {
  background: transparent !important;
}
#page-header::before {
  background: transparent !important;
}

/* 夜间模式遮罩透明 */
[data-theme="dark"] #footer::before {
  background: transparent !important;
}
[data-theme="dark"] #page-header::before {
  background: transparent !important;
}

/* ==================================
   2. 导航栏设置 (保持原样：纯透明+滑动隐藏)
   ================================== */
#nav {
  /* 背景纯透明 */
  background-color: transparent !important;
  /* 移除虚化和阴影 */
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  box-shadow: none !important;
  border: none !important;
  /* 滑动过渡动画 */
  transition: top 0.3s ease-in-out !important;
}

/* 修复菜单子选项背景 */
#nav .menus_item_child, #nav .menus_items .menus_item {
  background: transparent !important;
}

/* ==================================
   3. 小冰分类磁铁黑夜模式适配 (只改了这里)
   ================================== */
[data-theme="dark"] #catalog_magnet .magnet_link_context {
  background: #1e1e1e !important;
  color: antiquewhite !important;
  
  /* 强制圆角 10px (你可以根据喜好改成 8px 或 12px) */
  border-radius: 8px !important; 
  
  /* 加上边框过渡，防止圆角闪烁 */
  transition: all 0.3s ease !important;
  overflow: hidden !important; /* 防止内容溢出遮挡圆角 */
}

/* 鼠标悬浮状态 */
[data-theme="dark"] #catalog_magnet .magnet_link_context:hover {
  background: #3ecdf1 !important;
  color: #f2f2f2 !important;
  border-radius: 8px !important; /* 悬浮时保持圆角 */
}


/* ==========================
    4. 【新增】目录 (TOC) 精简设置
    ========================== */
/* 
    原理：Butterfly生成的目录class是 .toc-level-X
    如果你用 ## 写大标题，那么它就是 level-2
    ### 是 level-3
    #### 是 level-4
    
    下面的代码意思就是：把 level-4 (####) 和更小的标题全部隐藏
*/
.toc-content .toc-level-4, 
.toc-content .toc-level-5, 
.toc-content .toc-level-6 {
    display: none !important;
}
